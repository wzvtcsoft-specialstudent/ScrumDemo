webpackJsonp([1],{"A/y4":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("xd7I"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var a=n("C7Lr")({name:"App"},r,!1,function(e){n("zKXW")},null,null).exports,o=n("3XdE"),i=n("3cXf"),u=n.n(i),l=n("aozt"),c=n.n(l),d=(n("6iV/"),c.a.create({baseURL:"https://api.github.com/graphql",timeout:5e3})),f=["2a2c211ce","e7e68750a0","c104493651","80422b95a62"];d.interceptors.request.use(function(e){return e.headers={"Content-Type":"application/json",Authorization:" bearer "+f.reverse().join("")+" "},e});var m=d;n("+YgL");var h=[],p=[],v=[],b=null;function g(e){return(b=e).forEach(function(e){e.timelineItems.nodes.forEach(function(e){void 0!==e.source&&h.push(e.source.number)})}),b.forEach(function(e){-1===h.indexOf(e.number)&&p.push(e.number)}),p.forEach(function(e){v.push(function e(t){var n={},s=b[t-1].title;if(n.title=s,n.day="未设置",0!==b[t-1].assignees.nodes.length&&(n.assignees=[],b[t-1].assignees.nodes.forEach(function(e){n.assignees.push({name:e.name,img:e.avatarUrl})})),0!=b[t-1].labels.totalCount){var r=[];b[t-1].labels.nodes.forEach(function(e){isNaN(e.name)?r.push({name:e.name,color:e.color}):n.day={name:e.name,color:e.color}}),n.labels=r}return 0===b[t-1].timelineItems.nodes.length?n:(n.nodes=[],b[t-1].timelineItems.nodes.forEach(function(t){void 0!==t.source&&n.nodes.push(e(t.source.number))}),n)}(e))}),v}var _={name:"subList",data:function(){return{status:!0}},props:{list:Array},methods:{onFocus:function(e){var t=this.$refs.span[e].parentNode;for(t=this.getParentNode(t);"tree"!==this.getParentNode(t).id;)t.children[1].style.border="1.5px solid orange",t=this.getParentNode(t)},onBlur:function(e){var t=this.$refs.span[e].parentNode;for(t=this.getParentNode(t);"tree"!==this.getParentNode(t).id;)t.children[1].style.removeProperty("border"),t=this.getParentNode(t)},getParentNode:function(e){return e.parentNode.parentNode}},filters:{showDay:function(e){return"未设置"}},created:function(){"undefined"===this.list&&(this.status=!1)}},y={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.list,function(t,s){return n("li",{key:s},[n("label",{staticClass:"timeLabel",style:"backgroundColor:#"+t.day.color,attrs:{title:"完成天数"}},[e._v(e._s(e._f("showDay")(t.day.name)))]),e._v(" "),n("span",{ref:"span",refInFor:!0,staticClass:"span",on:{mouseover:function(t){return e.onFocus(s)},mouseout:function(t){return e.onBlur(s)}}},[e._v(e._s(t.title))]),e._v(" "),e._l(t.assignees,function(e,t){return n("div",{key:t,staticClass:"assignLabel",attrs:{title:e.name}},[n("img",{attrs:{src:e.img,width:"30",height:"30"}})])}),e._v(" "),e._l(t.labels,function(t,s){return n("label",{key:s+"label",class:["label"],style:"backgroundColor:#"+t.color},[e._v(e._s(t.name))])}),e._v(" "),e.status?n("sub-list",{attrs:{list:t.nodes}}):e._e()],2)}),0)},staticRenderFns:[]};var E={data:function(){return{title:"",data:null}},components:{subList:n("C7Lr")(_,y,!1,function(e){n("ftmN")},"data-v-52007b16",null).exports},methods:{init:function(){var e,t=this;(e={query:'query{organization(login:"wzvtcsoft-specialstudent"){repository(name:"ScrumDemo"){ id name issues(first:100){  totalCount nodes{  title number body assignees(first:100){ nodes{  name avatarUrl} }labels(first:100){totalCount nodes{  name color} } timelineItems(first:2,itemTypes:[REFERENCED_EVENT,CROSS_REFERENCED_EVENT]){ totalCount nodes{ ...on CrossReferencedEvent{ source{ ...on Issue{  number  title labels(first:100){ totalCount  nodes{  name color } } assignees(first:100){  totalCount  nodes{ name } } } }target{  ...on Issue{ number  author{  avatarUrl }}} }}} } }}}}'},m({method:"POST",data:u()(e)})).then(function(e){t.title=e.data.data.organization.repository.name,t.data=g(e.data.data.organization.repository.issues.nodes)})}},created:function(){this.init()}},N={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"tree"}},[t("ul",[t("li",[t("span",[this._v(this._s(this.title)+" 需求地图")]),this._v(" "),t("sub-list",{attrs:{list:this.data}})],1)])])},staticRenderFns:[]};var C=n("C7Lr")(E,N,!1,function(e){n("A/y4")},"data-v-342aec24",null).exports;s.a.use(o.a);var L=new o.a({routes:[{path:"/",name:"StoryList",component:C}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:L,components:{App:a},template:"<App/>"})},ftmN:function(e,t){},zKXW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.253d1df711a5bb69d205.js.map