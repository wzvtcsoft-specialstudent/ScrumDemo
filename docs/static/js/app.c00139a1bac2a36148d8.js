webpackJsonp([1],{"+36I":function(t,e){},FjqI:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("xd7I"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var o=n("C7Lr")({name:"App"},s,!1,function(t){n("zKXW")},null,null).exports,i=n("3XdE"),a=n("3cXf"),u=n.n(a),c=n("aozt"),d=n.n(c),f=(n("6iV/"),d.a.create({baseURL:"https://api.github.com/graphql",timeout:5e3}));f.interceptors.request.use(function(t){return t.headers={"Content-Type":"application/json",Authorization:" bearer 4a6aa2f11f809e8d5e6c48460e5d21fcaa229eed "},t});var l=f;var p=[],h=[],m=[],v=null;function b(t){return(v=t).forEach(function(t){t.timelineItems.nodes.forEach(function(t){void 0!==t.source&&p.push(t.source.number)})}),v.forEach(function(t){-1===p.indexOf(t.number)&&h.push(t.number)}),h.forEach(function(t){m.push(function t(e){var n={},r=v[e-1].title;return n.title=r,0===v[e-1].timelineItems.nodes.length?n:(n.nodes=[],v[e-1].timelineItems.nodes.forEach(function(e){void 0!==e.source&&n.nodes.push(t(e.source.number))}),n)}(t))}),m}var g={name:"subList",data:function(){return{status:!0}},props:{list:Array},methods:{onFocus:function(t){var e=this.$refs.span[t].parentNode;for(e=this.getParentNode(e);"tree"!==this.getParentNode(e).id;)e.firstChild.style.border="1.5px dashed orange",e=this.getParentNode(e)},onBlur:function(t){var e=this.$refs.span[t].parentNode;for(e=this.getParentNode(e);"tree"!==this.getParentNode(e).id;)e.firstChild.style.removeProperty("border"),e=this.getParentNode(e)},getParentNode:function(t){return t.parentNode.parentNode}},created:function(){"undefined"===this.list&&(this.status=!1)}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",t._l(t.list,function(e,r){return n("li",{key:r},[n("span",{ref:"span",refInFor:!0,staticClass:"span",on:{mouseover:function(e){return t.onFocus(r)},mouseout:function(e){return t.onBlur(r)}}},[t._v(t._s(e.title))]),t._v(" "),t.status?n("sub-list",{attrs:{list:e.nodes}}):t._e()],1)}),0)},staticRenderFns:[]};var y={data:function(){return{title:"",data:null}},components:{subList:n("C7Lr")(g,_,!1,function(t){n("+36I")},"data-v-155c3df9",null).exports},methods:{init:function(){var t,e=this;(t={query:'query{organization(login:"wzvtcsoft-specialstudent"){repository(name:"ScrumDemo"){id name issues(first:100){ totalCount nodes{ title  number  body  timelineItems(first:10){   nodes{  ...on CrossReferencedEvent{    source{  ...on Issue{    number  }  }target{  ...on Issue{    number  } }}} }}}}}}'},l({method:"POST",data:u()(t)})).then(function(t){e.title=t.data.data.organization.repository.name,e.data=b(t.data.data.organization.repository.issues.nodes)})}},created:function(){this.init()}},N={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"tree"}},[e("ul",[e("li",[e("span",[this._v(this._s(this.title)+" 需求地图")]),this._v(" "),e("sub-list",{attrs:{list:this.data}})],1)])])},staticRenderFns:[]};var I=n("C7Lr")(y,N,!1,function(t){n("FjqI")},"data-v-0414a5fa",null).exports;r.a.use(i.a);var E=new i.a({routes:[{path:"/",name:"StoryList",component:I}]});r.a.config.productionTip=!1,new r.a({el:"#app",router:E,components:{App:o},template:"<App/>"})},zKXW:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c00139a1bac2a36148d8.js.map