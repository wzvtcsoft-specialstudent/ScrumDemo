webpackJsonp([1],{"3yQB":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("xd7I"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o=n("C7Lr")({name:"App"},r,!1,function(e){n("zKXW")},null,null).exports,a=n("3XdE"),i=n("3cXf"),l=n.n(i),u=n("aozt"),c=n.n(u),d=(n("6iV/"),c.a.create({baseURL:"https://api.github.com/graphql",timeout:5e3})),f=["2a2c211ce","e7e68750a0","c104493651","80422b95a62"];d.interceptors.request.use(function(e){return e.headers={"Content-Type":"application/json",Authorization:" bearer "+f.reverse().join("")+" "},e});var p=d;n("+YgL");var h=[],m=[],b=[],v=null,g=[];function y(e){var t={},n=v[e-1].title;if(t.title=n,t.day="未设置",0!==v[e-1].assignees.nodes.length&&(t.assignees=[],v[e-1].assignees.nodes.forEach(function(e){t.assignees.push({name:e.name,img:e.avatarUrl,color:g[e.name]})})),0!=v[e-1].labels.totalCount){var s=[];v[e-1].labels.nodes.forEach(function(e){isNaN(e.name)?s.push({name:e.name,bgcolor:e.color,ftcolor:function(e){for(var t=[],n=0;n<6;n+=2)t.push(parseInt("0x"+e.slice(n,n+2)));return.299*t[0]+.578*t[1]+.114*t[2]>192?"black":"white"}(e.color)}):t.day={name:e.name,color:e.color}}),t.labels=s}return 0===v[e-1].timelineItems.nodes.length?t:(t.nodes=[],v[e-1].timelineItems.nodes.forEach(function(e){void 0!==e.source&&t.nodes.push(y(e.source.number))}),t)}function _(e){return(v=e).forEach(function(e){e.timelineItems.nodes.forEach(function(e){void 0!==e.source&&h.push(e.source.number)})}),v.forEach(function(e){-1===h.indexOf(e.number)&&m.push(e.number)}),m.forEach(function(e){b.push(y(e))}),b}g.youlik="orange",g["诸葛康亮我最帅"]="lightgreen",g.Shimizu="red",g.SprWu="deepskyblue",g.Lieatfhy="yellow",g["动感超人"]="blue",g.Salexal="green",g["刘笑锋"]="black";var E={name:"subList",data:function(){return{status:!0}},props:{list:Array},methods:{onFocus:function(e){var t=this.$refs.span[e].parentNode;for(t=this.getParentNode(t);"tree"!==this.getParentNode(t).id;)t.children[1].style.border="1.5px solid orange",t=this.getParentNode(t)},onBlur:function(e){var t=this.$refs.span[e].parentNode;for(t=this.getParentNode(t);"tree"!==this.getParentNode(t).id;)t.children[1].style.removeProperty("border"),t=this.getParentNode(t)},getParentNode:function(e){return e.parentNode.parentNode}},filters:{showDay:function(e){return void 0===e?"未设置":e}},created:function(){"undefined"===this.list&&(this.status=!1)}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",e._l(e.list,function(t,s){return n("li",{key:s},[n("label",{staticClass:"timeLabel",style:"backgroundColor:#"+t.day.color,attrs:{title:"完成天数"}},[e._v(e._s(e._f("showDay")(t.day.name)))]),e._v(" "),n("span",{ref:"span",refInFor:!0,staticClass:"span",on:{mouseover:function(t){return e.onFocus(s)},mouseout:function(t){return e.onBlur(s)}}},[e._v(e._s(t.title))]),e._v(" "),e._l(t.assignees,function(e,t){return n("div",{key:t,staticClass:"assignLabel",style:"marginLeft:3px; border:1.5px solid "+e.color,attrs:{title:e.name}},[n("img",{staticClass:"img",attrs:{src:e.img,width:"30",height:"30",alt:e.name,onload:"this.style.display = 'block'",onerror:"this.style.display = 'block'"}})])}),e._v(" "),e._l(t.labels,function(t,s){return n("label",{key:s+"label",staticClass:"label",style:"backgroundColor:#"+t.bgcolor+";color:"+t.ftcolor},[e._v(e._s(t.name))])}),e._v(" "),e.status?n("sub-list",{attrs:{list:t.nodes}}):e._e()],2)}),0)},staticRenderFns:[]};var N={data:function(){return{title:"",data:null}},components:{subList:n("C7Lr")(E,C,!1,function(e){n("3yQB")},"data-v-3fa39ff6",null).exports},methods:{init:function(){var e,t=this;(e={query:'query{organization(login:"wzvtcsoft-specialstudent"){repository(name:"ScrumDemo"){ id name issues(first:100){  totalCount nodes{  title number body assignees(first:100){ nodes{  name avatarUrl} }labels(first:100){totalCount nodes{  name color} } timelineItems(first:20,itemTypes:[REFERENCED_EVENT,CROSS_REFERENCED_EVENT]){ totalCount nodes{ ...on CrossReferencedEvent{ source{ ...on Issue{  number  title labels(first:100){ totalCount  nodes{  name color } } assignees(first:100){  totalCount  nodes{ name } } } }target{  ...on Issue{ number  author{  avatarUrl }}} }}} } }}}}'},p({method:"POST",data:l()(e)})).then(function(e){t.title=e.data.data.organization.repository.name,t.data=_(e.data.data.organization.repository.issues.nodes)})}},created:function(){this.init()}},k={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"tree"}},[t("ul",[t("li",[t("span",[this._v(this._s(this.title)+" 需求地图")]),this._v(" "),t("sub-list",{attrs:{list:this.data}})],1)])])},staticRenderFns:[]};var L=n("C7Lr")(N,k,!1,function(e){n("bEIC")},"data-v-55f77fe4",null).exports;s.a.use(a.a);var I=new a.a({routes:[{path:"/",name:"StoryList",component:L}]});s.a.config.productionTip=!1,new s.a({el:"#app",router:I,components:{App:o},template:"<App/>"})},bEIC:function(e,t){},zKXW:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.3bc925a8a15bdfd91a44.js.map