{"version":3,"sources":["webpack:///./src/App.vue?a45d","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/fetch.js","webpack:///./src/assets/js/fixData.js","webpack:///src/components/StoryList.vue","webpack:///./src/api/getIssue.js","webpack:///./src/components/StoryList.vue?5fca","webpack:///./src/components/StoryList.vue","webpack:///./src/router/index.js","webpack:///./src/main.js"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","service","axios","create","baseURL","timeout","tn","interceptors","request","use","config","headers","Content-Type","Authorization","reverse","join","have","epic","res","data","userColor","merge","index","obj","context","title","number","issueUrl","url","day","nodes","assignees","length","forEach","item","push","img","avatarUrl","color","labels","totalCount","lab","isNaN","bgcolor","ftcolor","oldVal","rgbArr","i","parseInt","slice","changeToRgb","timelineItems","source","fixData","oldData","indexOf","StoryList","epici","storyi","storyShow","methods","getissue","_this","query","method","stringify_default","then","organization","repository","issues","selEpic","$refs","style","height","temp","splice","unshift","selStory","addEpic","filters","screenTask","val","created","components_StoryList","_vm","staticClass","ref","_l","epic_i","key","class","selected","require","on","click","$event","target","currentTarget","href","_v","_s","lab_i","story","story_i","directives","rawName","value","expression","src","alt","width","task","task_i","_e","src_components_StoryList","StoryList_normalizeComponent","Vue","Router","router","routes","path","component","productionTip","el","components","App","template"],"mappings":"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","file":"static/js/app.f91e038e9cd069afcc56.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-392ef6e7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-392ef6e7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-392ef6e7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App'\r\n}\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import axios from 'axios'\r\nimport qs from 'qs'\r\n\r\nconst baseURL = \"https://api.github.com/graphql\";\r\n\r\nconst service = axios.create({\r\n    baseURL,\r\n    timeout: 5000\r\n});\r\nconst tn = [\"2a2c211ce\",\"e7e68750a0\",\"c104493651\",\"80422b95a62\"]\r\n/* 请求拦截器 */\r\nservice.interceptors.request.use( config => {\r\n    config.headers = { // 设置请求头\r\n        'Content-Type': 'application/json',\r\n        'Authorization': \" bearer \" + tn.reverse().join(\"\") + \" \"\r\n    }\r\n    return config;\r\n})\r\n\r\nexport default service\n\n\n// WEBPACK FOOTER //\n// ./src/fetch.js","import { isNumber } from \"util\";\r\n\r\nvar have = [], // 临时存放非根Issue\r\n  epic = [], // 存放根Issue\r\n  res = []; // 整理好的数据\r\nvar data = null; // 存放原始数据\r\nvar userColor = [];\r\n    userColor['youlik'] = 'orange';\r\n    userColor['诸葛康亮我最帅'] = 'lightgreen';\r\n    userColor['Shimizu'] ='red';\r\n    userColor['SprWu'] = 'deepskyblue';\r\n    userColor['Lieatfhy'] = 'yellow';\r\n    userColor['动感超人'] = 'blue';\r\n    userColor['Salexal'] = 'green';\r\n    userColor['刘笑锋'] = 'black';\r\n\r\n/* 初始化 */\r\nfunction init() {\r\n    var i =0;\r\n  /* 找出存在上级issue的issue编号 */\r\n  data.forEach(item => {\r\n    // for (let key in item.timelineItems.nodes) {\r\n    //     console.log(i++);\r\n    //  if(item.timelineItems.nodes[key].source === 'undefined')\r\n    //     have.push(item.timelineItems.nodes[key].source.number)\r\n      \r\n    // }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        \r\n    item.timelineItems.nodes.forEach( i => {\r\n        //console.log(i);\r\n        if(typeof i.source !== 'undefined') {\r\n            have.push(i.source.number)\r\n        }\r\n    })\r\n  })\r\n  /* 找出epic */\r\n  data.forEach(item => {\r\n    if (have.indexOf(item.number) === -1) {\r\n      epic.push(item.number)\r\n    }\r\n  })\r\n}\r\n\r\n/* 颜色十六进制转rgb */\r\nfunction changeToRgb(oldVal) {\r\n  let rgbArr = [];\r\n  let sum = 0;\r\n  for(let i=0;i<6;i+=2) {\r\n    rgbArr.push(parseInt(\"0x\" + oldVal.slice(i, i+2)))\r\n  }\r\n  sum = rgbArr[0]*0.299 + rgbArr[1]*0.578 + rgbArr[2]*0.114;\r\n  return sum > 192?'black':'white'; // 深色背景，白色文字；浅色背景，黑色文字\r\n}\r\n\r\n/* 递归遍历(深度)，连接Issue */\r\nfunction merge(index) {\r\n  let obj = {};\r\n  let context = data[index - 1].title;\r\n  obj.title = context;\r\n  obj.number = data[index - 1].number;\r\n  obj.issueUrl = data[index - 1].url\r\n  obj.day = \"未设置\";\r\n  obj.nodes = [];\r\n  if(data[index - 1].assignees.nodes.length !== 0) {\r\n    obj.assignees = [];\r\n    data[index -1].assignees.nodes.forEach( item => {\r\n      obj.assignees.push({name:item.name, img:item.avatarUrl, color: userColor[item.name]})\r\n    })\r\n  }\r\n  /* 标签 */\r\n  if(data[index - 1].labels.totalCount != 0) {\r\n    let lab = [];\r\n    data[index - 1].labels.nodes.forEach( item => {\r\n      if(!isNaN(item.name)) obj.day = {name:item.name, color:item.color};\r\n      else lab.push({name:item.name, bgcolor:item.color,ftcolor: changeToRgb(item.color)})\r\n    })\r\n    obj.labels = lab;\r\n  }\r\n  if (data[index - 1].timelineItems.nodes.length === 0) {\r\n    obj.nodes.push({nodes:null});\r\n    return obj;\r\n  }\r\n  data[index - 1].timelineItems.nodes.forEach(item => {\r\n    if(typeof item.source !== 'undefined') {\r\n        obj.nodes.push(merge(item.source.number))\r\n    }\r\n        \r\n  })\r\n  return obj;\r\n}\r\n\r\nexport function fixData(oldData) {\r\n  data = oldData;\r\n  init();\r\n  epic.forEach(i => {\r\n    res.push(merge(i));\r\n  });\r\n  return res;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/fixData.js","<template>\r\n  <div class=\"main-container\" v-if=\"data\">\r\n    <!-- epic -->\r\n    <div class=\"epic-container\" ref=\"epic\">\r\n      <div v-for=\"(epic, epic_i) in data\"  :key=\"epic_i\" :class=\"{'selected':epic_i==epici,'require':true}\" @click.self=\"selEpic(epic_i)\">\r\n        <div class=\"context-container\">\r\n          <span><a :href=\"epic.issueUrl\" target=\"view_window\">#{{ epic.number }}</a>{{ epic.title }}</span>\r\n        </div>\r\n        <div class=\"label-container\">\r\n          <label\r\n            v-for=\"(lab, lab_i) in epic.labels\"\r\n            :key=\"lab_i\"\r\n            :style=\"'backgroundColor:#' + lab.bgcolor + ';color:#' + lab.ftcolor\"\r\n          >{{ lab.name }}</label>\r\n        </div>\r\n      </div>\r\n      <span class=\"add\" @click=\"addEpic\">+</span>\r\n    </div>\r\n    <hr>\r\n    <!-- story -->\r\n    <div class=\"userstory-container\">\r\n      <div\r\n        v-for=\"(story, story_i) in data[epici].nodes\"\r\n        v-show=\"typeof story.title != 'undefined'\"\r\n        :key=\"story_i\"\r\n        :class=\"{'selected':story_i==storyi,'require':true}\"\r\n        @click.self=\"selStory(story_i)\"\r\n      >\r\n        <div class=\"context-container\">\r\n          <span><a :href=\"story.issueUrl\" target=\"view_window\">#{{ story.number }}</a>{{ story.title }}</span>\r\n        </div>\r\n        <div class=\"label-container\">\r\n          <label v-for=\"(lab, lab_i) in story.assignees\" :key=\"lab_i\">\r\n            <img :src=\"lab.img\" alt width=\"30\" height=\"30\">\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <hr>\r\n    <!-- task -->\r\n    <div class=\"task-container\">\r\n      <div\r\n        v-for=\"(task, task_i) in data[epici].nodes[storyi].nodes\"\r\n       v-show=\"typeof task.title != 'undefined'\"\r\n        :key=\"task_i\"\r\n        class=\"require\"\r\n      >\r\n        <div class=\"context-container\">\r\n          <span><a :href=\"task.issueUrl\" target=\"view_window\">#{{ task.number }}</a>{{ task.title }}</span>\r\n\r\n        </div>\r\n        <div class=\"label-container\">\r\n          <label v-for=\"(lab, lab_i) in task.assignees\" :key=\"lab_i\">\r\n            <img :src=\"lab.img\" alt width=\"30\" height=\"30\">\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getIssue } from \"@/api/getIssue\";\r\nimport { fixData } from \"@/assets/js/fixData\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      data: null,\r\n      epici: 0,\r\n      storyi:0,\r\n      storyShow: true\r\n    };\r\n  },\r\n  methods: {\r\n    getissue() {\r\n      let params = {\r\n        query:\r\n          'query{organization(login:\"wzvtcsoft-specialstudent\"){repository(name:\"ScrumDemo\"){ id name issues(first:100){  totalCount nodes{  title number url body assignees(first:100){ nodes{  name avatarUrl} }labels(first:100){totalCount nodes{  name color} } timelineItems(first:20,itemTypes:[REFERENCED_EVENT,CROSS_REFERENCED_EVENT]){ totalCount nodes{ ...on CrossReferencedEvent{ source{ ...on Issue{  number  title labels(first:100){ totalCount  nodes{  name color } } assignees(first:100){  totalCount  nodes{ name } } } }target{  ...on Issue{ number  author{  avatarUrl }}} }}} } }}}}'\r\n      };\r\n      getIssue(params).then( res => {\r\n        this.data = fixData(res.data.data.organization.repository.issues.nodes)\r\n      })\r\n    },\r\n    selEpic(index) {\r\n      // if(typeof this.data[index].nodes === 'undefined') {\r\n      //   this.epici = this.len-1;\r\n      // } else {\r\n         this.epici = index;\r\n      this.storyi = 0;// 重置storyi\r\n      if(this.$refs.epic.style.height = 'auto') {\r\n        this.$refs.epic.style.height = '150px'\r\n        // this.$refs.epic.style.position = 'relative'\r\n      }\r\n      if(index > 6) {\r\n        let temp = this.data[index];\r\n        this.data.splice(index, 1);\r\n        this.data.unshift(temp);\r\n        this.epici = 0; // 因为选中项的位置变为0，所以选中值也要变为0\r\n        \r\n      }\r\n     \r\n      // }\r\n    },\r\n    selStory(index) {\r\n      this.storyi = index;\r\n    },\r\n    addEpic() {\r\n      this.$refs.epic.style.height = this.$refs.epic.style.height == 'auto'?'151px':'auto'\r\n      // this.$refs.epic.style.position = this.$refs.epic.style.position == 'absolute'?'relative':'absolute'\r\n    }\r\n  },\r\n  filters: {\r\n    screenTask(val,i) {\r\n      return typeof val.nodes === \"undefined\" ? \"\" : val.nodes[i].title;\r\n    }\r\n  },\r\n  created() {\r\n    this.getissue();\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-container {\r\n  width: 1300px;\r\n  height: 650;\r\n  border: 1px solid black;\r\n  background-color: #eee;\r\n  .epic-container {\r\n    width: 1300px;\r\n    height: 151px;\r\n    min-height: 150px;\r\n    overflow: hidden;\r\n    padding: 2px;\r\n    position: relative;\r\n    z-index: 2;\r\n    .epic {\r\n      flex-grow: 1;\r\n      flex-shrink: 0;\r\n      margin-left: 1px;\r\n      overflow: hidden;\r\n          min-width: 150px;\r\n      max-width: 150px;\r\n      border: 1px solid black;\r\n      background-color: #fff;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .userstory-container {\r\n    width: 1300px;\r\n    display: flex;\r\n    min-height: 150px;\r\n    z-index: 1;\r\n    .userstory {\r\n      flex-grow: 1;\r\n      text-align: center;\r\n      margin-left: 1px;\r\n      overflow: hidden;\r\n      max-width: 150px;\r\n      background-color: #fff;\r\n      border: 1px solid black;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n  .task-container {\r\n    width: 1300px;\r\n    display: flex;\r\n    min-height: 150px;\r\n    z-index: 1;\r\n    .task {\r\n      flex-grow: 1;\r\n      overflow: hidden;\r\n      margin-left: 1px;\r\n      max-width: 150px;\r\n      border: 1px solid black;\r\n      background-color: #fff;\r\n      border-radius: 5px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n}\r\n.container {\r\n  width: 1300px;\r\n  display: flex;\r\n  min-height: 150px;\r\n}\r\n.require {\r\n  // flex-grow: 1;\r\n  // flex-shrink: 10;\r\n  min-width: 179px;\r\n  float: left;\r\n  display: block;\r\n  margin-left: 1px;\r\n  max-width: 150px;\r\n  min-height: 150px;\r\n  border: 1.5px solid black;\r\n  background-color: #fff;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n  font-weight: 600;\r\n  font-size: 14px;\r\n}\r\n.require:hover {\r\n  border: 1.5px solid deepskyblue;\r\n}\r\n.label-container {\r\n  display: inline-block;\r\n  width: 100%;\r\n  height: 30px;\r\n}\r\n.selected {\r\n  border: 1.5px solid blue;\r\n}\r\n.add {\r\n  z-index: 999;\r\n  width: 10px;\r\n  position: absolute;  \r\n  text-align: center;\r\n  right: 0;\r\n  float: right;\r\n  background-color: orange;\r\n  cursor: pointer;\r\n}\r\na {\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n  color: blue;\r\n}\r\n</style>\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/StoryList.vue","import axios from '@/fetch'\r\n\r\nexport function getIssue(data) {\r\n    return axios({\r\n        method: \"POST\",\r\n        data: JSON.stringify(data)\r\n    })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/api/getIssue.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.data)?_c('div',{staticClass:\"main-container\"},[_c('div',{ref:\"epic\",staticClass:\"epic-container\"},[_vm._l((_vm.data),function(epic,epic_i){return _c('div',{key:epic_i,class:{'selected':epic_i==_vm.epici,'require':true},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.selEpic(epic_i)}}},[_c('div',{staticClass:\"context-container\"},[_c('span',[_c('a',{attrs:{\"href\":epic.issueUrl,\"target\":\"view_window\"}},[_vm._v(\"#\"+_vm._s(epic.number))]),_vm._v(_vm._s(epic.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"label-container\"},_vm._l((epic.labels),function(lab,lab_i){return _c('label',{key:lab_i,style:('backgroundColor:#' + lab.bgcolor + ';color:#' + lab.ftcolor)},[_vm._v(_vm._s(lab.name))])}),0)])}),_vm._v(\" \"),_c('span',{staticClass:\"add\",on:{\"click\":_vm.addEpic}},[_vm._v(\"+\")])],2),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"userstory-container\"},_vm._l((_vm.data[_vm.epici].nodes),function(story,story_i){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(typeof story.title != 'undefined'),expression:\"typeof story.title != 'undefined'\"}],key:story_i,class:{'selected':story_i==_vm.storyi,'require':true},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }return _vm.selStory(story_i)}}},[_c('div',{staticClass:\"context-container\"},[_c('span',[_c('a',{attrs:{\"href\":story.issueUrl,\"target\":\"view_window\"}},[_vm._v(\"#\"+_vm._s(story.number))]),_vm._v(_vm._s(story.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"label-container\"},_vm._l((story.assignees),function(lab,lab_i){return _c('label',{key:lab_i},[_c('img',{attrs:{\"src\":lab.img,\"alt\":\"\",\"width\":\"30\",\"height\":\"30\"}})])}),0)])}),0),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"task-container\"},_vm._l((_vm.data[_vm.epici].nodes[_vm.storyi].nodes),function(task,task_i){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(typeof task.title != 'undefined'),expression:\"typeof task.title != 'undefined'\"}],key:task_i,staticClass:\"require\"},[_c('div',{staticClass:\"context-container\"},[_c('span',[_c('a',{attrs:{\"href\":task.issueUrl,\"target\":\"view_window\"}},[_vm._v(\"#\"+_vm._s(task.number))]),_vm._v(_vm._s(task.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"label-container\"},_vm._l((task.assignees),function(lab,lab_i){return _c('label',{key:lab_i},[_c('img',{attrs:{\"src\":lab.img,\"alt\":\"\",\"width\":\"30\",\"height\":\"30\"}})])}),0)])}),0)]):_vm._e()}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-4d58906a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/StoryList.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4d58906a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./StoryList.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./StoryList.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./StoryList.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4d58906a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./StoryList.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4d58906a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/StoryList.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport StoryList from '@/components/StoryList'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'StoryList',\r\n      component: StoryList\r\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\n\r\nVue.config.productionTip = false\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}